CREATE TABLE USERS(
    U_ID	VARCHAR2(60) NOT NULL PRIMARY KEY,
    N_NAME	VARCHAR2(60) NOT NULL,
    PW	    VARCHAR2(40) NOT NULL,
    EMAIL	VARCHAR2(100),
    GENRE1	VARCHAR2(20) NOT NULL,
    GENRE2	VARCHAR2(20) NOT NULL,
    GENRE3	VARCHAR2(20) NOT NULL,
    P_Q	    VARCHAR2(100) NOT NULL,
    P_A	    VARCHAR2(100) NOT NULL,
    IMG	    VARCHAR2(500),
    INDATE	DATE DEFAULT SYSDATE NOT NULL
);

CREATE TABLE GAMELIST(
    G_IDX	    NUMBER(5,0)  PRIMARY KEY,
    G_NAME	    VARCHAR2(300),
    G_ENAME	    VARCHAR2(300),
    G_GENRE	    VARCHAR2(300),
    G_COMPANY	VARCHAR2(300),
    G_SERVICE	VARCHAR2(300),
    G_PLATFORM	VARCHAR2(300),
    G_DATE	    VARCHAR2(300),
    G_SCORE	    VARCHAR2(300),
    G_IMG	    VARCHAR2(1000)
);

CREATE TABLE BOARD(
    B_IDX	NUMBER(5,0) NOT NULL PRIMARY KEY,
    TITLE	VARCHAR2(100) NOT NULL,
    CONT	VARCHAR2(4000) NOT NULL,
    R_SCORE	NUMBER(3,1),
    INDATE	DATE DEFAULT SYSDATE NOT NULL,
    B_COUNT	NUMBER(10,0) NOT NULL,
    MENU_ID	NUMBER(3,0) NOT NULL,
    U_ID	VARCHAR2(60) NOT NULL REFERENCES USERS(U_ID),
    G_IDX	NUMBER(5,0) REFERENCES GAMELIST(G_IDX)
);

CREATE TABLE DECLARATION(
    D_IDX	NUMBER(5,0) NOT NULL PRIMARY KEY,
    CONT	VARCHAR2(1000) NOT NULL,
    INDATE	DATE DEFAULT SYSDATE NOT NULL,
    US_ID	VARCHAR2(60) NOT NULL REFERENCES USERS(U_ID),
    UE_ID	VARCHAR2(60) NOT NULL REFERENCES USERS(U_ID),
    B_IDX	NUMBER(5,0) NOT NULL REFERENCES BOARD(B_IDX)
);

CREATE TABLE REPLY(
    R_IDX	NUMBER(5,0) NOT NULL PRIMARY KEY,
    CONT	VARCHAR2(1000) NOT NULL,
    INDATE	DATE DEFAULT SYSDATE NOT NULL,
    B_IDX	NUMBER(5,0) NOT NULL REFERENCES BOARD(B_IDX),
    U_ID	VARCHAR2(60) NOT NULL REFERENCES USERS(U_ID)
);

CREATE TABLE QUESTION
(
q_idx   NUMBER(5,0)  PRIMARY KEY,
q_cont  VARCHAR2(4000) NOT NULL,
u_id    VARCHAR2(60) NOT NULL REFERENCES USERS(U_ID),
indate  DATE DEFAULT SYSDATE NOT NULL,
a_cont  VARCHAR2(4000)
);


DROP TABLE BOARD CASCADE CONSTRAINTS;
DROP TABLE DECLARATION CASCADE CONSTRAINTS;
DROP TABLE GAMELIST CASCADE CONSTRAINTS;
DROP TABLE REPLY CASCADE CONSTRAINTS;
DROP TABLE USERS CASCADE CONSTRAINTS;

COMMIT;

INSERT INTO USERS(U_ID,PW,N_NAME,GENRE1,GENRE2,GENRE3,P_Q,P_A)
           VALUES('admin',1234,'운영자','RPG','액션','어드벤쳐','1','1');

DELETE FROM GAMELIST WHERE G_IDX > 0;

DROP SEQUENCE GAME_N;

CREATE SEQUENCE GAME_N START WITH 1 INCREMENT BY 1 MAXVALUE 999999 NOCYCLE NOCACHE;

SELECT COUNT(*) FROM GAMELIST;

SELECT * FROM GAMELIST;